{"version":3,"sources":["webpack:///./src/views/backend/AdminOrders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?658e","webpack:///./src/views/backend/AdminOrders.vue?5726","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","colspan","active","isLoading","type","delOrders","orders","length","item","key","id","$filters","date","create_at","user","name","email","tel","currency","total","is_paid","updateOrderPaid","for","openModal","openDelModal","order","tempOrder","ref","delOrder","pages","pagination","getOrders","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","address","paid_date","products","product","title","qty","unit","final_total","value","$emit","props","Object","default","data","status","modal","watch","this","methods","show","closeModal","hide","mounted","$refs","render","currentPage","components","Pagination","DelModal","OrderModal","page","url","$http","then","res","success","console","log","catch","err","paid","Math","floor","Date","now","orderComponent","orderModal","put","message","icon","button","timer","delComponent","delModal","delete","has_pre","href","updatePage","current_page","total_pages","has_next","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-665173c7.48159223.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"text-end mt-3\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"delOrders\">\r\n        刪除全部訂單\r\n      </button>\r\n    </div>\r\n    <table class=\"table align-middle mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th>購買日期</th>\r\n          <th>購買人</th>\r\n          <th>Email</th>\r\n          <th>電話</th>\r\n          <th>應付金額</th>\r\n          <th>付款狀態</th>\r\n          <th>訂單操作</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-if=\"orders.length\">\r\n          <tr v-for=\"item in orders\" :key=\"item.id\">\r\n            <td>{{ $filters.date(item.create_at) }}</td>\r\n            <td>{{ item.user.name }}</td>\r\n            <td>{{ item.user.email }}</td>\r\n            <td>{{ item.user.tel }}</td>\r\n            <td>{{ $filters.currency(item.total) }}</td>\r\n            <td>\r\n              <div class=\"form-check form-switch\">\r\n                <input\r\n                  class=\"form-check-input text-center\"\r\n                  type=\"checkbox\"\r\n                  :id=\"`paidSwitch${item.id}`\"\r\n                  v-model=\"item.is_paid\"\r\n                  @change=\"updateOrderPaid(item)\"\r\n                />\r\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                  <span v-if=\"item.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-primary btn-sm\"\r\n                  @click=\"openModal(item)\"\r\n                >\r\n                  檢視\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-danger btn-sm\"\r\n                  @click=\"openDelModal(item)\"\r\n                >\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n        <template v-else>\r\n          <tr>\r\n            <td colspan=\"8\" class=\"text-center\">目前無任何訂單</td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n    <OrderModal\r\n      :order=\"tempOrder\"\r\n      ref=\"orderModal\"\r\n      @update-order-paid=\"updateOrderPaid\"\r\n    ></OrderModal>\r\n    <DelModal :order=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n    <Pagination :pages=\"pagination\" @update-page=\"getOrders\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport OrderModal from '@/components/OrderModal.vue'\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      tempOrder: {},\r\n      pagination: {},\r\n      currentPage: 1,\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    Pagination,\r\n    DelModal,\r\n    OrderModal\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      this.isLoading = true\r\n      this.currentPage = page\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.pagination = res.data.pagination\r\n            this.orders = res.data.orders\r\n            this.isLoading = false\r\n          } else {\r\n            console.log(res)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    updateOrderPaid (order) {\r\n      const paid = {\r\n        is_paid: order.is_paid,\r\n        paid_date: null\r\n      }\r\n      if (paid.is_paid) {\r\n        paid.paid_date = Math.floor(Date.now() / 1000)\r\n      }\r\n      const orderComponent = this.$refs.orderModal\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${order.id}`\r\n      this.$http.put(url, { data: paid }).then(res => {\r\n        if (res.data.success) {\r\n          swal({\r\n            title: res.data.message,\r\n            icon: 'success',\r\n            button: false,\r\n            timer: 1000\r\n          })\r\n          orderComponent.closeModal()\r\n          this.getOrders(this.currentPage)\r\n        } else {\r\n          console.log(res.data.message)\r\n        }\r\n      })\r\n    },\r\n    openModal (item) {\r\n      this.tempOrder = { ...item }\r\n      const orderComponent = this.$refs.orderModal\r\n      orderComponent.openModal()\r\n    },\r\n    openDelModal (item) {\r\n      this.tempOrder = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.openModal()\r\n    },\r\n    delOrder () {\r\n      const delComponent = this.$refs.delModal\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n      this.$http.delete(url).then(res => {\r\n        if (res.data.success) {\r\n          swal({\r\n            title: res.data.message,\r\n            icon: 'success',\r\n            button: false,\r\n            timer: 1000\r\n          })\r\n          delComponent.closeModal()\r\n          this.getOrders(this.currentPage)\r\n        }\r\n      })\r\n    },\r\n    delOrders () {\r\n      const delComponent = this.$refs.delModal\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/all`\r\n      this.$http.delete(url).then(res => {\r\n        if (res.data.success) {\r\n          swal({\r\n            title: res.data.message,\r\n            icon: 'success',\r\n            button: false,\r\n            timer: 1000\r\n          })\r\n          delComponent.closeModal()\r\n          this.getOrders()\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"productModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>客戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span class=\"text-success\" v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span class=\"text-danger\" v-else>尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-danger\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(tempOrder.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.final_total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    id=\"flexCheckDefault\"\r\n                    v-model=\"tempOrder.is_paid\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                    <span class=\"text-success\" v-if=\"tempOrder.is_paid\"\r\n                      >已付款</span\r\n                    >\r\n                    <span class=\"text-danger\" v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-order-paid', tempOrder)\"\r\n          >\r\n            修改付款狀態\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {}\r\n    }\r\n  },\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n    }\r\n  },\r\n  methods: {\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    closeModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=4d42bdfe\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./AdminOrders.vue?vue&type=template&id=c35f9168\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"item in pages.total_pages\"\r\n        :key=\"item\"\r\n        :class=\"{ active: item === pages.current_page }\"\r\n      >\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(item)\">{{\r\n          item\r\n        }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    pages: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('update-page', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=3452cce6\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}