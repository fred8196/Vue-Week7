{"version":3,"sources":["webpack:///./src/views/backend/Dashboard.vue","webpack:///./src/views/backend/Dashboard.vue?aab2"],"names":["class","id","to","loginStatus","data","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","url","post","then","res","success","$router","push","title","message","icon","button","timer","setTimeout","catch","err","console","log","created","render"],"mappings":"0IACOA,MAAM,a,GACJA,MAAM,+C,GACJA,MAAM,2BAA2BC,GAAG,c,GACnCD,MAAM,sB,GACJA,MAAM,mB,+BAEL,U,GAGDA,MAAM,mB,+BAEL,U,GAGDA,MAAM,mB,+BAEL,S,GAGDA,MAAM,mB,+BACqC,Q,uMApBvD,yBAyBM,MAzBN,EAyBM,CAxBJ,yBAuBM,MAvBN,EAuBM,CAtBJ,yBAqBM,MArBN,EAqBM,CApBJ,yBAmBK,KAnBL,EAmBK,CAlBH,yBAIK,KAJL,EAIK,CAHH,yBAEC,GAFYE,GAAG,kBAAkBF,MAAM,Y,+BACrC,iBAAM,C,cAGX,yBAIK,KAJL,EAIK,CAHH,yBAEC,GAFYE,GAAG,gBAAgBF,MAAM,Y,+BACnC,iBAAM,C,cAGX,yBAIK,KAJL,EAIK,CAHH,yBAEC,GAFYE,GAAG,iBAAiBF,MAAM,Y,+BACpC,iBAAK,C,cAGV,yBAEK,KAFL,EAEK,CADH,yBAA+D,GAAlDE,GAAG,YAAYF,MAAM,Y,+BAAW,iBAAI,C,sBAMxC,EAAAG,a,yBAAnB,yBAA8C,Y,yFAKjC,GACbC,KADa,WAEX,MAAO,CACLD,aAAa,IAGjBE,QAAS,CACPC,WADO,WACO,WACNC,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAEFC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnD,IAAMU,EAAE,UAAO,uCAAP,mBACRN,KAAKC,MACFM,KAAKD,GACLE,MAAK,SAAAC,GACAA,EAAIhB,KAAKiB,SACX,EAAKlB,aAAc,EACnB,EAAKmB,QAAQC,KAAK,qBAElB,EAAKpB,aAAc,EACnB,IAAK,CACHqB,MAAOJ,EAAIhB,KAAKqB,QAChBC,KAAM,QACNC,QAAQ,EACRC,MAAO,MAETC,YAAW,WACT,EAAKP,QAAQC,KAAK,cACjB,SAGNO,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAIpBG,QAtCa,WAuCXvB,KAAKL,eCpET,EAAO6B,OAASA,EAED","file":"js/chunk-2d225006.dfb3a65f.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarText\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n          <li class=\"nav-item active\">\r\n            <router-link to=\"/admin/products\" class=\"nav-link\"\r\n              >產品管理列表</router-link\r\n            >\r\n          </li>\r\n          <li class=\"nav-item active\">\r\n            <router-link to=\"/admin/orders\" class=\"nav-link\"\r\n              >訂單管理列表</router-link\r\n            >\r\n          </li>\r\n          <li class=\"nav-item active\">\r\n            <router-link to=\"/admin/coupons\" class=\"nav-link\"\r\n              >優惠券列表</router-link\r\n            >\r\n          </li>\r\n          <li class=\"nav-item active\">\r\n            <router-link to=\"/products\" class=\"nav-link\">返回前台</router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  </div>\r\n  <router-view v-if=\"loginStatus\"></router-view>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginStatus: false\r\n    }\r\n  },\r\n  methods: {\r\n    checkLogin () {\r\n      const token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\r\n        '$1'\r\n      )\r\n      this.$http.defaults.headers.common.Authorization = token\r\n      const url = `${process.env.VUE_APP_API}/api/user/check`\r\n      this.$http\r\n        .post(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.loginStatus = true\r\n            this.$router.push('/admin/products')\r\n          } else {\r\n            this.loginStatus = false\r\n            swal({\r\n              title: res.data.message,\r\n              icon: 'error',\r\n              button: false,\r\n              timer: 1000\r\n            })\r\n            setTimeout(() => {\r\n              this.$router.push('../Login')\r\n            }, 1000)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.checkLogin()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Dashboard.vue?vue&type=template&id=6a27804e\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}